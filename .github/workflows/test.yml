name: GitHub Actions Demo
on:
  # Triggers the workflow on push or pull request events but only for the main branch
  push:
    branches: [ ci_testing ]
  pull_request:
    branches: [ ci_testing ]
jobs:
  Explore-GitHub-Actions:
    #runs-on: [self-hosted, linux, X64]
    #runs-on: [ubuntu-18.04]
    #runs-on: [ubuntu18]
    runs-on: [deepNeuro]
    container:
      image: sipec/sipec:latest
      #image: node:13.5.0-alpine3.10
      #image: sipec:sipec
      options: --runtime=nvidia
    steps:
      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
      - name: checkout
        uses: actions/checkout@v2
      - run: git checkout ci_testing
      - name: testing running in docker
        #run: python ./SwissKnife/full_inference.py --gpu 0 --species mouse --video /home/user/data/full_inference_posenet_25_June/animal1234_day1.avi --posenet_path /home/user/data/pretrained_networks/posenet_mouse.h5  --segnet_path /home/user/data/pretrained_networks/mask_rcnn_mouse_0095.h5 --max_ids 4 --results_sink /home/user/results/full_inference
        run ls -R /home/tarun/data


                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
